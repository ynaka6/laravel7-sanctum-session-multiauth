(function(e){function t(t){for(var n,o,u=t[0],i=t[1],l=t[2],p=0,d=[];p<u.length;p++)o=u[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);c&&c(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,u=1;u<r.length;u++){var i=r[u];0!==a[i]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},s=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/assets/app/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var c=i;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("cd49")},cd49:function(e,t,r){"use strict";r.r(t);r("96cf");var n=r("1da1"),a=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"relative",attrs:{id:"app"}},[n("div",{staticClass:"relative w-full max-w-lg h-screen mx-auto bg-white shadow-xl"},[n("img",{staticClass:"absolute inset-0 mx-auto my-5 z-10",attrs:{src:r("f9ad"),alt:"Laravel Sanctum"}}),n("router-view")],1),e._m(0)])},o=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"absolute bottom-0 w-full p-5"},[r("p",{staticClass:"bg-white mx-auto p-4 border-2 rounded-full shadow-2xl font-bold text-center text-xs text-gray-800"},[e._v(" Laravel Sanctumのセッション認証を利用して、Multi Authを実装したサンプルです。 ")])])}],u=r("2877"),i={},l=Object(u["a"])(i,s,o,!1,null,null,null),c=l.exports,p=(r("45fc"),r("8c4f")),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full h-full flex justify-center items-center"},[r("div",{staticClass:"w-full p-4"},[r("h1",{staticClass:"font-semibold text-2xl text-center mb-10"},[e._v(" Login ")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[r("s-input",{staticClass:"mb-4",attrs:{type:"email",label:"email",error:e.errors["email"]?e.errors["email"][0]:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),r("s-password-input",{staticClass:"mb-4",attrs:{label:"password",error:e.errors["password"]?e.errors["password"][0]:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}}),r("button",{staticClass:"block w-64 mx-auto shadow-xl bg-orange-500 text-white rounded-full p-3",attrs:{type:"submit"}},[e._v(" Submit ")])],1)])])},f=[],m=r("5530"),h=r("2f62"),b=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{staticClass:"block text-grey-darker text-sm font-bold mb-2",attrs:{for:e.id}},[e._v(" "+e._s(e.label)+" ")]),r("div",{staticClass:"relative"},[r("input",{staticClass:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-1",class:{"border-red-500 bg-red-100":!!e.error},attrs:{id:e.id,type:e.type,min:e.min,step:e.step},domProps:{value:e.value},on:{input:e.updateInput}})]),e.error?r("p",{staticClass:"text-red-500 text-xs italic"},[e._v(e._s(e.error))]):e._e()])},v=[],g=(r("a9e3"),r("9612")),w=a["a"].extend({props:{id:{type:String,required:!1,default:function(){return"input-".concat(g["a"].v1())}},type:{type:String,required:!0},value:{type:String,required:!0},label:{type:String,required:!0},min:{type:Number,required:!1},step:{type:Number,required:!1},error:{type:String,required:!1}},methods:{updateInput:function(e){e.target instanceof HTMLInputElement&&this.$emit("input",e.target.value)}}}),x=w,y=Object(u["a"])(x,b,v,!1,null,null,null),_=y.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{staticClass:"block text-grey-darker text-sm font-bold mb-2",attrs:{for:e.id}},[e._v(" "+e._s(e.label)+" ")]),r("div",{staticClass:"relative"},[r("input",{staticClass:"shadow appearance-none border border-red rounded w-full py-2 px-3 text-grey-darker mb-1",class:{"border-red-500 bg-red-100":!!e.error},attrs:{id:e.id,type:e.inputType},on:{input:e.updateInput}}),e.icon?r("span",{staticClass:"absolute right-0 top-0 mt-2 mr-3 text-blue-500",on:{click:e.toggleType}},[r("font-awesome-icon",{attrs:{icon:e.icon}})],1):e._e()]),e.error?r("p",{staticClass:"text-red-500 text-xs italic"},[e._v(e._s(e.error))]):e._e()])},E=[],O=a["a"].extend({props:{id:{type:String,required:!1,default:function(){return"password-input-".concat(g["a"].v1())}},label:{type:String,required:!0},icon:{type:String,required:!1},error:{type:String,required:!1}},data:function(){var e="password",t="text";return{inputType:"password",password:e,text:t}},methods:{toggleType:function(){this.inputType===this.password?this.inputType=this.text:this.inputType=this.password},updateInput:function(e){e.target instanceof HTMLInputElement&&this.$emit("input",e.target.value)}}}),T=O,j=Object(u["a"])(T,S,E,!1,null,null,null),C=j.exports,k=a["a"].extend({components:{SInput:_,SPasswordInput:C},data:function(){return{form:{email:"",password:""},errors:{}}},methods:Object(m["a"])({onSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.login(e.form);case 3:r=t.sent,r&&e.$router.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),e.errors=t.t0.errors;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()}},Object(h["b"])({login:"auth/login"}))}),R=k,q=Object(u["a"])(R,d,f,!1,null,null,null),P=q.exports,L=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"w-full h-full flex justify-center items-center"},[r("div",{staticClass:"w-full p-4"},[r("h1",{staticClass:"font-semibold text-2xl text-center mb-10"},[e._v(" Secured Page ")]),r("div",[r("button",{staticClass:"block w-full max-w-sm mx-auto bg-orange-500 rounded-full shadow-lg p-4 text-lg text-white hover:opacity-75",on:{click:function(t){return t.preventDefault(),e.onClickLogout(t)}}},[e._v(" Logout ")])])])])},U=[],$=a["a"].extend({methods:Object(m["a"])({onClickLogout:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.logout();case 2:e.$router.push("/login");case 3:case"end":return t.stop()}}),t)})))()}},Object(h["b"])({logout:"auth/logout"}))}),I=$,M=Object(u["a"])(I,L,U,!1,null,null,null),G=M.exports,D={user:null},H=D,z={user:function(e){return e.user},loggedIn:function(e){return null!==e.user}},A=z,J=(r("d3b7"),r("d4ec")),N=r("bee2"),F=r("bc3a"),B=r.n(F),K={GET:"GET",POST:"POST",DELETE:"DELETE",PUT:"PUT"};B.a.defaults.withCredentials=!0;var Q=function(){function e(){Object(J["a"])(this,e),this.baseURL="/api",this.timeout=15e3}return Object(N["a"])(e,[{key:"request",value:function(e){var t=this,r=e.method===K.GET;return new Promise((function(n,a){B.a.request({url:e.path,method:e.method,params:r&&e.params,data:!r&&e.params,withCredentials:!0,timeout:t.timeout,baseURL:e.baseURL||t.baseURL,headers:t.createHeaders()}).then((function(e){n(e.data)})).catch((function(e){var r=t.normalizeError(e);a(r)}))}))}},{key:"normalizeError",value:function(e){var t,r,n,a;return{status:e.response&&e.response.status,message:null!==(t=null===(r=e.response)||void 0===r?void 0:r.data.message)&&void 0!==t?t:"",errors:null!==(n=null===(a=e.response)||void 0===a?void 0:a.data.errors)&&void 0!==n?n:null,raw:e}}},{key:"createHeaders",value:function(){var e={"Content-Type":"application/json",xhrFields:!0};return e}}]),e}(),V={currentUser:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.next=4,(new Q).request({path:"/me",method:K.GET});case 4:return n=e.sent,r("SET_USER",n),e.abrupt("return",n);case 9:return e.prev=9,e.t0=e["catch"](1),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),login:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,(new Q).request({path:"/login",method:K.POST,params:r});case 3:return a=e.sent,n("SET_USER",a),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));function t(t,r){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,(new Q).request({path:"/logout",method:K.DELETE});case 3:r("SET_USER",null);case 4:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},W=V,X={SET_USER:function(e,t){e.user=t},RESET_USER:function(e){e.user=null}},Y=X,Z={namespaced:!0,state:H,getters:A,actions:W,mutations:Y};a["a"].use(h["a"]);var ee=new h["a"].Store({state:{version:"1.0.0"},mutations:{},actions:{},modules:{auth:Z}});a["a"].use(p["a"]);var te=[{path:"/login",name:"login",component:P,meta:{layout:"default",requiresGuest:!0}},{path:"/",name:"Home",component:G,meta:{layout:"default",requiresAuth:!0}}],re=new p["a"]({mode:"history",base:"/",routes:te});re.beforeEach((function(e,t,r){e.matched.some((function(e){return e.meta.requiresAuth}))?ee.getters["auth/loggedIn"]?r():r({path:"/login"}):e.matched.some((function(e){return e.meta.requiresGuest}))&&ee.getters["auth/loggedIn"]?r({path:"/"}):r()}));var ne=re;r("def6");a["a"].config.productionTip=!1;var ae=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ee.dispatch("auth/currentUser");case 2:new a["a"]({router:ne,store:ee,render:function(e){return e(c)}}).$mount("#app");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();ae()},def6:function(e,t,r){},f9ad:function(e,t,r){e.exports=r.p+"img/laravel-sanctum.d07c2b04.svg"}});
//# sourceMappingURL=app.d0ac8e9f.js.map